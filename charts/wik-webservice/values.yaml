general:
  # Create SealedSecret with encrypted value
  # instead of Secret with plaintext value
  sealedSecrets: false

# ServiceAccount configuration
serviceAccount:
  # Specifies whether a service account should be created
  create: false
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""
  # AutomountServiceAccountToken controls whether the service account token is automatically mounted
  automountServiceAccountToken: true

# PodDisruptionBudget configuration
podDisruptionBudget:
  # Enable PodDisruptionBudget
  enabled: false
  # Annotations to add to the PodDisruptionBudget
  annotations: {}
  # Minimum available pods (mutually exclusive with maxUnavailable)
  minAvailable: 1
  # Maximum unavailable pods (mutually exclusive with minAvailable)
  # maxUnavailable: 1

# NetworkPolicy configuration
networkPolicy:
  # Enable NetworkPolicy
  enabled: false
  # Annotations to add to the NetworkPolicy
  annotations: {}
  # Ingress rules (if not specified, allows traffic from ingress-nginx namespace)
  ingress: []
  # Egress rules (if not specified, allows all egress)
  egress: []

# ServiceMonitor configuration for Prometheus
serviceMonitor:
  # Enable ServiceMonitor
  enabled: false
  # Additional labels for ServiceMonitor
  additionalLabels: {}
  # Annotations for ServiceMonitor
  annotations: {}
  # Scrape interval
  interval: 30s
  # Scrape timeout
  scrapeTimeout: 10s
  # Honor labels
  honorLabels: false
  # Metric relabelings
  metricRelabelings: []
  # Relabelings
  relabelings: []

# HorizontalPodAutoscaler configuration
horizontalPodAutoscaler:
  # Enable HPA
  enabled: false
  # Minimum number of replicas
  minReplicas: 1
  # Maximum number of replicas
  maxReplicas: 5
  # Target CPU utilization percentage
  targetCPUUtilizationPercentage: 80
  # Target memory utilization percentage
  targetMemoryUtilizationPercentage: null
  # Annotations for HPA
  annotations: {}
  # Custom metrics (advanced)
  customMetrics: []
  # HPA behavior configuration
  behavior: {}

webservice:
  # Container image (required)
  image: "nginx:latest"
  imagePullPolicy: Always

  # Private registry authentication
  imagePullAuth:
    registry: ""
    username: ""
    password: ""
    # sealedSecrets must be enabled to use encrypted
    encrypted: ""

  # Override container command and args
  # command:
  #   - /bin/sh
  #   - -c
  # args:
  #   - "echo hello"

  # Ingress hosts
  hosts: []
    # - www.hostname.tld

  # Additional ingress paths (beyond the default /)
  additionalPaths: []
    # - path: /api
    #   pathType: Prefix
    #   backend:
    #     service:
    #       name: api-service
    #       port:
    #         number: 8080

  replicas: 1
  port: 80

  # TopologySpreadConstraints for better pod distribution
  topologySpreadConstraints: []
    # Example: Spread pods across nodes
    # - maxSkew: 1
    #   topologyKey: kubernetes.io/hostname
    #   whenUnsatisfiable: DoNotSchedule
    #   labelSelector:
    #     matchLabels:
    #       app.kubernetes.io/name: wik-webservice
    #       app.kubernetes.io/instance: release-name
    # Example: Spread pods across zones
    # - maxSkew: 1
    #   topologyKey: topology.kubernetes.io/zone
    #   whenUnsatisfiable: DoNotSchedule
    #   labelSelector:
    #     matchLabels:
    #       app.kubernetes.io/name: wik-webservice
    #       app.kubernetes.io/instance: release-name

  service:
    enabled: true
    port: 80
    annotations: {}
      # service.beta.kubernetes.io/aws-load-balancer-type: nlb

  # Prometheus metrics configuration
  metrics:
    enabled: false
    port: 9090
    path: /metrics

  ingress:
    enabled: true
    className: ""
      # nginx, traefik, etc.
    tlsAcme: true
    annotations: {}
      # nginx.ingress.kubernetes.io/proxy-body-size: 200m
      # nginx.ingress.kubernetes.io/auth-realm: Authentication Required
      # nginx.ingress.kubernetes.io/auth-secret: basic-auth
      # nginx.ingress.kubernetes.io/auth-type: basic

  # Additional labels for pods
  additionalLabels: {}
    # app.kubernetes.io/component: frontend

  # Pod annotations
  annotations: {}
    # co.elastic.logs/enabled: "true"

  # Additional containers in the same pod
  additionalContainers: []
    # - name: sidecar
    #   container:
    #     image: busybox
    #     command: ["sleep", "infinity"]
    #   env:
    #     plaintext:
    #       SIDECAR_VAR: value
    #     secret:
    #       SIDECAR_SECRET: value

  # Init containers
  initContainers: []
    # - name: init-db
    #   container:
    #     image: busybox
    #     command: ["sh", "-c", "echo initializing..."]
    #   env:
    #     plaintext:
    #       INIT_VAR: value

  # Pod-level security context
  securityContext: {}
    # runAsUser: 1000
    # runAsGroup: 1000
    # fsGroup: 1000

  # Enable service links (injects all services as environment variables)
  enableServiceLinks: false

  # Container-level security context
  containerSecurityContext: {}
    # allowPrivilegeEscalation: false
    # readOnlyRootFilesystem: true
    # seccompProfile:
    #   type: RuntimeDefault

  resources: {}
    # requests:
    #   memory: "512Mi"
    #   cpu: "250m"
    # limits:
    #   memory: "1Gi"
    #   cpu: "500m"

  hostAliases: []
    # - ip: "127.0.0.1"
    #   hostnames:
    #     - www.hostname.tld

  dnsConfig: {}
    # nameservers:
    #   - 10.3.0.10
    # searches:
    #   - my-namespace.svc.cluster.local

  # Deployment strategy
  strategy: {}
    # type: RollingUpdate
    # rollingUpdate:
    #   maxUnavailable: 1
    #   maxSurge: 0

  revisionHistoryLimit: ""

  # Graceful shutdown timeout (seconds)
  terminationGracePeriodSeconds: ""
    # 30

  livenessProbe: {}
    # httpGet:
    #   path: /health
    #   port: 80
    # initialDelaySeconds: 30
    # periodSeconds: 10

  readinessProbe: {}
    # httpGet:
    #   path: /ready
    #   port: 80
    # initialDelaySeconds: 5
    # periodSeconds: 5

  startupProbe: {}
    # httpGet:
    #   path: /startup
    #   port: 80
    # initialDelaySeconds: 10
    # periodSeconds: 10
    # timeoutSeconds: 5
    # failureThreshold: 30
    # successThreshold: 1

  # Environment variables
  env:
    plaintext: {}
      # PLAINTEXT_VAR: value
    # If using general.sealedSecrets, encrypted value must be used for secret
    secret: {}
      # SECRET_VAR: value or encryptedValue

  nodeSelector: {}
    # kubernetes.io/os: linux

  affinity: {}
    # nodeAffinity:
    #   requiredDuringSchedulingIgnoredDuringExecution:
    #     nodeSelectorTerms:
    #       - matchExpressions:
    #           - key: topology.kubernetes.io/zone
    #             operator: In
    #             values:
    #               - eu-west-1a

  # Persistent storage (creates PVC)
  storage: {}
    # Example: creates a PVC named <release>-data
    # data:
    #   size: 10Gi
    #   storageClass: standard

  # Volume mounts (supports PVC, ConfigMap, Secret)
  volumes: []
    # Mount from PVC (requires matching entry in storage)
    # - name: data
    #   mountPath: /app/data
    #   storage: true
    #
    # Mount from ConfigMap
    # - name: config
    #   mountPath: /app/config
    #   configMap:
    #     name: my-configmap
    #
    # Mount from Secret (single file with subPath)
    # - name: credentials
    #   mountPath: /app/credentials.json
    #   subPath: credentials.json
    #   secret:
    #     name: my-secret
    #     optional: false
